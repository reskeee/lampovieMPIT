<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–Ω–ª–∞–π–Ω –°–µ–º–∏–Ω–∞—Ä</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: row;
            margin: 0;
            height: 100vh;
        }
        #video-container {
            flex: 1;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: auto;
        }
        #chat-container {
            width: 300px;
            background-color: #f1f1f1;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }
        #chat-box {
            flex: 1;
            overflow-y: auto;
            border: 1px solid #ccc;
            margin-bottom: 10px;
            padding: 5px;
            background-color: white;
        }
        #input-container {
            display: flex;
        }
        #text-input {
            flex: 1;
            padding: 5px;
            border: 1px solid #ccc;
        }
        button {
            padding: 10px;
            margin-left: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
        }
        video {
          width: 100%;
          height: auto;
        }
        .video.video {
          width: 30%;
        }
    </style>
</head>
<header>
  
</header>
<body>
    <div id="video-container">
        <video id="demo"></video>
        <video id="video"></video>
        <div id="controls">
            <button id="mic-button">üîä –ú–∏–∫—Ä–æ—Ñ–æ–Ω</button>
            <button id="camera-button">üì∑ –ö–∞–º–µ—Ä–∞</button>
            <button id="start">–ù–∞—á–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é —ç–∫—Ä–∞–Ω–∞</button>
        </div>
    </div>
    <div id="chat-container">
        <div id="chat-box">
            <div>–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Å–µ–º–∏–Ω–∞—Ä!</div>
        </div>
        <div id="input-container">
            <input type="text" id="text-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
            <button id="send-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <script>
        document.getElementById('send-button').onclick = function() {
            const textInput = document.getElementById('text-input');
            const chatBox = document.getElementById('chat-box');
            if (textInput.value) {
                const message = document.createElement('div');
                message.textContent = textInput.value;
                chatBox.appendChild(message);
                chatBox.scrollTop = chatBox.scrollHeight; // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
                textInput.value = ''; // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞
            }
        };

        // –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º –∏ –≤–∏–¥–µ–æ (–ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
        document.getElementById('mic-button').onclick = function() {
            alert('–ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω/–≤—ã–∫–ª—é—á–µ–Ω!');
        };

        document.getElementById('camera-button').onclick = function() {
            alert('–ö–∞–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞/–≤—ã–∫–ª—é—á–µ–Ω–∞!');
        };

        navigator.mediaDevices.getUserMedia({ video: true })
        .then(function (stream) {
          var video = document.querySelector('#video');
          video.srcObject = stream;
          video.onloadedmetadata = function (e) {
            video.play();
          };
        })
        .catch(function (err) {
          console.log('–í–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞! ' + err);
        });

        document.getElementById('start').onclick = function() {
        navigator.mediaDevices.getDisplayMedia({ video: true })
          .then(function(stream) {
            var video = document.getElementById('demo');
            video.srcObject = stream;
            video.onloadedmetadata = function (e) {
              video.play();
            };
          })
          .catch(function(err) {
            console.error('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫—Ä–∞–Ω—É: ', err);
          });
        };
    </script>
  </body>
</html>
